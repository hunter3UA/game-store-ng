<form class="col-4" #form="ngForm">

  <mat-tab-group>
    <mat-tab [label]="'Button.Lang.English' | translate">
      <div class="form-group">
        <label for="gameName">{{"Name" | translate }}</label>
        <input class="form-control" id="gameName" maxlength="150" [(ngModel)]="gameModel.name" name="inputName" required
          #nameOfGame="ngModel">
        <p *ngIf="nameOfGame.invalid && nameOfGame.touched">{{"Errors.RequiredField" | translate}}</p>
      </div>
      <div class="form-group">
        <label for="gameQuantityPerUnit">{{"Game.Quantity per unit" | translate}}</label>
        <input class="form-control" id="gameName" maxlength="150" [(ngModel)]="gameModel.quantityPerUnit"
          name="inputQuantityPerUnit">
      </div>
      <div class="form-group">
        <label for="gameDescription">{{"Labels.Description" | translate}}</label>
        <textarea class="form-control" id="gameDescription" rows="3" maxlength="5000" #gameDescription="ngModel"
          [(ngModel)]="gameModel.description" name="inputDescription"></textarea>
      </div>
    </mat-tab>
    <mat-tab *ngFor="let translate of this.gameModel.translations" [label]="'Button.Lang.'+ translate.lang | translate">
      <div class="form-group">
        <label for="gameName">{{"Name" | translate }}</label>
        <input class="form-control" maxlength="150" [(ngModel)]="translate.name" name="inputName{{translate.lang}}">
      </div>
      <div class="form-group">
        <label for="gameQuantityPerUnit">{{"Game.Quantity per unit" | translate}}</label>
        <input class="form-control" maxlength="150" [(ngModel)]="translate.quantityPerUnit"
          name="inputQuantityPerUnit{{translate.lang}}">
      </div>
      <div class="form-group">
        <label for="gameDescription">{{"Labels.Description" | translate}}</label>
        <textarea class="form-control" rows="3" maxlength="5000" #gameDescription="ngModel"
          [(ngModel)]="translate.description" name="inputDescription{{translate.lang}}"></textarea>
      </div>
    </mat-tab>
  </mat-tab-group>
  <div class="form-group">
    <label for="gameName">{{"Game.Key" | translate}}</label>
    <input class="form-control" id="gameName" (change)="checkKey($event.target)" maxlength="150"
      [(ngModel)]="gameModel.key" name="inputKey" #nameOfGame="ngModel">
  </div>
  <div class="form-group">
    <label for="gamePrice">{{"Game.Price" | translate}}</label>
    <input class="form-control" id="gamePrice" type="number" #gamePrice (keydown)="keyDown($event)" min="1" required
      [(ngModel)]="gameModel.price" name="inputPrice">
    <p *ngIf="gamePrice.invalid && gamePrice.touched">{{"Errors.RequiredField" | translate}} </p>
  </div>
  <div class="form-group">
    <label for="gameDiscounted">{{"Game.Discontinued" | translate}}</label>
    <input class="defaultCheckbox" id="gameDiscontinued" type="checkbox" [(ngModel)]="gameModel.discontinued"
      name="chbDiscontinued">
  </div>

  <div class="form-group">
    <label for="unitsOfGameInStock">{{"Game.Units in stock" | translate}}</label>
    <input class="form-control" id="unitsOfGameInStock" type="number" min="0" (keydown)="keyDown($event)"
      [(ngModel)]="gameModel.unitsInStock" name="inputUnitsOfGameInStock">
  </div>
  <div class="form-group">
    <ng-multiselect-dropdown #ddlPlatforms="ngModel" name="ddlPlatforms"
      [(ngModel)]="gameComponentModel.selectedPlatforms" [data]="gameComponentModel.platforms"
      [settings]="{idField: 'id',textField: 'type',enableCheckAll: false}">
    </ng-multiselect-dropdown>
  </div>
  <div class="form-group">
    <ng-multiselect-dropdown #genresddl name="ddlGenres" [(ngModel)]="gameComponentModel.selectedGenres"
      [data]="gameComponentModel.genres" [settings]="{idField: 'id',textField: 'name', enableCheckAll: false}">
    </ng-multiselect-dropdown>
  </div>
  <div class="form-group">
    <select name="list" [(ngModel)]="gameModel.publisherName" #publishersddl id="publisherDDL">
      <option value="undefined" selected="true">None</option>
      <option name="publishers" *ngFor="let publisher of gameComponentModel.publishers"
        [ngValue]="publisher.companyName">
        {{publisher.companyName}}</option>
    </select>
  </div>
  <div>
    <label>{{"Game.Published at" | translate}}</label>
    <input type="date" [(ngModel)]="gameModel.publishedAt" name="publishedAt">
  </div>
  <input type="submit" [disabled]="!form.valid" (click)="addGame()" [value]="'Button.Add' | translate">
</form>
